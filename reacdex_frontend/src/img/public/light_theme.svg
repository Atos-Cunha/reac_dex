<!-- theme-toggle.svg -->
<svg id="themeToggle" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="48" height="48" role="button" tabindex="0" aria-pressed="false" aria-labelledby="ttitle" style="cursor:pointer;user-select:none">
  <title id="ttitle">Mudar tema: claro</title>

  <defs>
    <style>
      /* cores padrão (pode trocar) */
      .sun { fill: #fbbf24; stroke: #f59e0b; stroke-width: 1; }
      .ray { stroke: #f59e0b; stroke-width: 1.5; stroke-linecap: round; }
      .moon { fill: #9ca3af; }
      .hidden { opacity: 0; pointer-events: none; }
      .shown { opacity: 1; }
      /* transições suaves */
      #sunGroup, #moonGroup { transition: opacity .2s ease-in-out; }
    </style>
  </defs>

  <!-- SOL -->
  <g id="sunGroup" class="shown" transform="translate(0,0)">
    <circle class="sun" cx="12" cy="12" r="5"></circle>
    <g>
      <line class="ray" x1="12" y1="1.5" x2="12" y2="4.0"></line>
      <line class="ray" x1="12" y1="20.0" x2="12" y2="22.5"></line>
      <line class="ray" x1="1.5" y1="12" x2="4.0" y2="12"></line>
      <line class="ray" x1="20.0" y1="12" x2="22.5" y2="12"></line>
      <line class="ray" x1="4.6" y1="4.6" x2="6.4" y2="6.4"></line>
      <line class="ray" x1="17.6" y1="17.6" x2="19.4" y2="19.4"></line>
      <line class="ray" x1="4.6" y1="19.4" x2="6.4" y2="17.6"></line>
      <line class="ray" x1="17.6" y1="6.4" x2="19.4" y2="4.6"></line>
    </g>
  </g>

  <!-- LUA (cinza) – path baseado no Heroicons -->
  <g id="moonGroup" class="hidden">
    <path class="moon" d="M21 12.79A9 9 0 1 1 11.21 3
                          7 7 0 0 0 21 12.79z"></path>
  </g>

  <script>
    (function () {
      const svg = document.currentScript.ownerDocument.documentElement;
      const sun = svg.getElementById('sunGroup');
      const moon = svg.getElementById('moonGroup');
      const title = svg.getElementById('ttitle');

      function setState(isDark) {
        // alterna visibilidade
        sun.setAttribute('class', isDark ? 'hidden' : 'shown');
        moon.setAttribute('class', isDark ? 'shown' : 'hidden');
        // acessibilidade
        svg.setAttribute('aria-pressed', isDark ? 'true' : 'false');
        title.textContent = isDark ? 'Mudar tema: escuro' : 'Mudar tema: claro';
        // dispara um evento para sua página ouvir e trocar o tema
        const evt = new CustomEvent('theme-toggle', { detail: { dark: isDark } });
        svg.dispatchEvent(evt);
      }

      // estado inicial: claro (sol)
      let dark = false;

      function toggle() {
        dark = !dark;
        setState(dark);
      }

      svg.addEventListener('click', toggle);
      svg.addEventListener('keydown', (e) =&gt; {
        if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); toggle(); }
      });

      // Exponha um método simples opcional (p.ex., via JS externo: document.getElementById('themeToggle').toggle())
      svg.toggle = toggle;
      svg.set = setState;
    })();
  </script>
</svg>
